<html>
<head>
<link rel="stylesheet" type="text/css" href="style.css" />
<title>Resuscitating Watchmaker by Alan Canon</title>
</head>
<body>
<div style="width:800px">
<img src="img/WatchmakerBanner.png" />
<a href="index.html">Home</a>
 | <a href="DawkinsOnWatchmaker.html">Dawkins on Watchmaker</a> 
 | <a href="index.html#Download">Download</a>
 | <a href="index.html#Contribute">Contribute</a>
 | <a href="ResuscitatingWatchmaker.html">Resuscitating Watchmaker</a>
<h1>Resuscitating Watchmaker</h1>
<p><em>by Alan Canon</em></p>
<p style="float: left;display:inline;">
<img style="width: 200px;float:right;" src="img/DawkinsCanonBlumner2015Jun9-3.jpg" />
I first became aware of the Watchmaker Suite through viewing Professor Richard Dawkins' televised 
series of
science lectures for children, entitled <em>Growing Up in the Universe</em>, shown
 on the BBC in 1991. The series was presented as the 162nd installment
of the <a href="http://www.rigb.org/christmas-lectures">Royal Institution 
Christmas Lectures</a>, instituted by Michael Faraday in 1825.
</p>
<p>
In 2008, I volunteered to assist with the
subtitling (in French) of <em>Growing Up in the Universe</em> for the re-release of the DVD
edition of the series. While my command of French isn't very good, as a longtime computer
programmer I was able to develop software tools which made it easier for the dozen or so
Francophones who also volunteered. I learned a lot of French words for plants and animals,
and was proud that we were able to turn over a high quality product to Richard, subtitling
all five hours of the series in just ten days.
</p>
<p>
Shortly after the subtitling project was complete, Richard published an appeal for
volunteers who might be able to "resuscitate" his old Watchmaker programs, which had
become obsolete on modern computers. I was especially interested in
Arthromorphs, the program which I found so compelling from his presentation of it in the
lectures.  I stepped forward and Richard sent me a PDF file containing the Pascal source code
for Arthromorphs, as well as a .zip file containing his other Pascal source code files for the 
Classic Macintosh, which are easy to read, together with Classic Macintosh resource (.RSRC) files, 
which were impossible to read without having a Classic Macintosh, which I did not.
</p>
<p>
These resource files contain definitions for dialog box layouts, menu definitions, 
and images, such as those used for custom mouse cursors and icons. Richard's television
demonstrations of his programs didn't reveal any of this information, so, at the time,
I soldiered on without it.
</p>
<p>
Within a few months I was able to produce a version of the Arthromorphs program in Java,
but the result was less than satisfying, and after sending my result to Richard I abandoned
 active work.
</p>
<h3>Bloomington, Indiana, 2009: a Brief Meeting with Richard</h3>
<p>
In October 2009, I was working as part of the technical crew for a community theater in
Louisville. The theater had lain dormant for some years and was experiencing a comeback
in its new space, and we had a bang-up show to kick things off, the deliciously
funny (and bloody) "Evil Dead: The Musical," a send-up of the schlock horror movie trilogy
 directed by Sam Raimi and starring Bruce Campbell. One of the gimmicks of the stage version
 is the "splatter zone:" the first few rows of the audience know they will be treated
 to a shower of fake blood. The Alley Theater's fake blood spray system was
 fueled by compressed air and devised by theatrical impressario and fellow hacker-about-town
 Joey Arena. I operated the buttons which controlled which of the thirteen jets would next
 soak audience and actors alike. My control panel was located well out of view of the
 action on stage, so I arranged a video camera and closed-circuit television monitor so
 I could see each of the actors hitting the marks that corresponded to the various
 blood cues in the script.
</p>
<p>
The show was a huge hit, though it lost money (the scenario of Mel Brooks' 1968 film 
"The Producers" might make a good analogue), and on closing night, the cast and crew
retired to a downtown Louisvillle watering hole to celebrate. There I met
Elizabeth Windisch, a local videographer. Elizabeth was in the process
of making a documentary about people who had lost their faith, with a tentative title of
"Paradigm Lost." We hit it off immediately, doubtless with the twin social lubricants of alcohol
and having been present for a ripping good show in play for both of us. 
</p>
<p>
At the time, Richard was touring his latest book, <em>The Greatest Show on Earth: The
Evidence for Evolution</em>. The next night he would be speaking at Indiana University,
only two hours' drive away. Elizabeth agreed to drive the two of us to the event: a
by-product of the trip would be that she would interview me, a fellow escapee from
religion, for her documentary. 
</p>
<p>
The drive from Louisville, Kentucky to Bloomington, Indiana is a beautiful one,
carrying one across the floor of scenic stream and river valleys on the way
up the Mitchell Escarpment, home of many classic and beautiful caves, some of which
I had explored as a child, since the Church of Christ summer camp I attended, Spring 
Mill Bible Camp, was only half a mile away from Spring Mill State Park, with its
extensive cave system. 
</p>
<p>
I've made the drive many times since losing my religion, to see friends in Bloomington,
including the computer scientist Douglas Hofstadter, and, though Elizabeth and I
 would have come via that route anyway, I took advantage of it to and her stop outside the entrance to
 the old church camp. I wanted to show her a personal ritual I practiced
 while driving past the site of my conversion to Christiantity as a teenager, on a summer night
 in 1983.
</p>
<p>
The religion of my parents, the Churches of Christ, practice baptism by full immersion.
This is serious business for the new convert, and is supposed to take place immediately
after the convert makes the "good confession." Most Church of Christ buildings (don't
call the building itself a "church" to a member, or you will find yourself swiftly admonished) 
feature a baptistry, a large water tank, open at the top, purpose built for dunking the sinful on their
way to becoming saints. The moment of baptism is of utter importance: the saying goes that
if, on the way into the baptistry, a brick falls from the ceiling and kills the new convert,
the convert's soul is still eternally damned.</p>
<p>The need for speed in baptism is stressed in many
of the "invitational" hymns at the climax of fundamentalist Christian sermons, such as this one by
 Eliza Holmes Reed (1794-1876). I'm a lifelong musician, with a good memory for melody and lyrics, and hymns from 
 my Christian upbringing often run through my head as earworms. This one's one of the less welcome ones,
 and my apologies in advance if rehearsing it here triggers a sympathetic reaction.
</p>
<blockquote>
<p>
...Tomorrow's sun may never rise<br />
To bless thy long deluded sight.<br />
This is the time, oh, then be wise,<br />
Be saved, oh, tonight!
</p>
<p>
Our Lord in pity lingers still,<br />
And wilt thou thus His love requite?<br />
Renounce at once thy stubborn will.<br />
Be saved, oh, tonight!
</p>
</blockquote>
<p>
Just imagine the hymn texts, if science were really a religion: Reed, in her dotage, might just have
survived to have written:
</p>
<blockquote>
"Creatures around you are your kith,<br />
deny it, and thous't incur their wrath..."
</blockquote>
<p>The idea is too ridiculous to deserve completion.</p>
<p>In the sciences, as in other secular affairs, it is enough that one ultimately comes to accept
a truth on offer: one is invited at one's leisure to weigh the evidence and take a decision based
on the facts. 
Except in time-limited and exam-driven academic courses, it never seems to matter
how <em>quickly</em> one tumbles to a particular fact, once the penny drops. On reading Darwin's 
<em>Origin</em>, Darwin's "bulldog" Thomas Huxley is said to have remarked "How extremely 
stupid not to have thought of that!" One gathers that Huxley moved on from his regret, shrugging
it off, without too much care for wasted years not thinking of "that." Huxley was in good company in
being slow on the uptake.
</p>
<p>
There is no baptistry at Spring Mill Bible Camp, so my actual baptism took place in the 
nearest town, Mitchell, at the home church of  Gus Grissom, one of the three astronauts
 who perished in the Apollo 1 launchpad fire.
I don't know the volumetric capacity of the Mitchell Church of Christ's baptistry, with its
flotsam comprised of bits of floating caulk and peels of waterproof paint, but I'm sure it amounts to
at least a couple of hundred gallons. I also don't know how often the baptistry is drained
and refilled, but it matters little for purposes of the ritual I showed to Elizabeth. Unless
a body of water has an airtight seal on it, it will exchange water molecules with its
environment by evaporation and condensation.
</p>
<!-- <p>
There are more than 1.386 billion trillion liters of water on our planet. (1.386 * 10^21 l, expressed in
exponential notation.) and about 3.3428 * 10^25 molecules of water in a liter. The ratio of those two gigantic numbers
is a bit more manageable. 

What size of container
is required so that its capacity in water molecules is equal to the fraction of the earth's water it represents?


Avagadro's constant, approximately 6 x 10^23 units per mole. The molecular
weight of water is 3.3428E25
</p> -->
<p>
This means that you don't need to travel to the backwater of Southern Indiana to get a sample
of my baptismal water (or Gus Grissom's before me.) It's almost certainly as close as the 
nearest river, stream, or rill, or the nearest tap, for that matter. It's been said
many times before that there are more molecules in a glass of water than glasses of 
water in all the Earth's oceans. Economy of scale makes the inequity of the ratio all
the more sure for baptistries. Nearly every drink of water I have ever taken likely contains
water that unwittingly wet me as I was "born again" into the church of my adoptive family,
and that included the bottle of spring water I was sipping from when I asked Elizabeth to stop,
just outside the entrance to the shuttered camp.
</p>
<p>The camera rolled as I described the infinite miscibility of the water
of our world, and it rolled as I poured the remainder of my bottle onto the ground 
without the camp. I do it almost every time I pass that spot. I am returning my baptismal
water from whence it came, a few molecules at a time...
</p>
<p>
We arrived in Bloomington after a hasty stop in Salem to prepare, on one of our computers,
a video release and consent forms, as Elizabeth had forgotten to bring paper copies. We
printed a few copies at the local office store, and then repaired to the Indiana University
campus, with its impressive and massive architecture of locally-quarried and hewn limestone.
The line to see Richard speak stretched around the building, and Elizabeth burned up a 
bit of camera battery in filming the spectacle. Inside the Opera House, the 3,000 seat
auditorium was packed to capacity. Elizabeth asked permission for us to film the event,
and I wrote a hasty note to Richard, wondering if he'd even remember me. Without knowing
if we'd really been granted permission, we set up in an flat area of the raked seating 
reserved for audio-visual crews. The local techies even ran us a live audio feed so that
Elizabeth could plug it straight into her camera. I had expected there'd be camera crews
and journalists aplenty, but the only other person sharing our space was a journalist from
a local media outlet, with nothing other than a voice recorder.
</p>
<p>
Richard's speech was as entertaining and illuminating as always, though it was a thrill to 
be there live, and in the moment, and not simply a witness of something that already has taken place.
</p>
<p>
One incident, though,
made us (or me, at least) quake with fear. During the Q&A, a questioner lobbed a particularly snarky verbal
squib at Richard, and then, as Richard began to answer, the questioner leveled a
video camera at him.
</p>
<p>
"Are you filming this? I haven't given anyone permission to film any part of this," said Richard,
angrily. "If you have filmed it, DON'T put it on the Internet." Richard's tour was still in
full swing, and I understood his desire to have as many people as possible see his
presentation live before the inevitable release to YouTube. Later reading his memoir added
to my sympathy for those who, like Richard, are the frequent subjects of ambush interviews,
often edited especially for <em>loss</em> of clarity.
</p>
<p>
With Richard's words about not filming echoing still in the packed
auditorium, and Elizabeth's professional-quality video camera rolling conspicuously atop its tripod.
I expected any moment for an usher to run up to us in a fluster and say, "We're awfully sorry, but...."
But that didn't happen.
</p>
<p>
After the event was over, the auditorium was cleared, including the lobby. Elizabeth interviewed 
attendees who were waiting outside for Richard's book signing to begin, until the doors opened again.
Near the end of the signing, with the crowd dwindling, Elizabeth asked Richard if she
could interview him about paradigm shifts, a theme of her documentary work. Richard said,
"I don't really do 'paradigms.' Have you read that book by Thomas Kuhn?" I blurted out,
"Ah! <em>The Structure of Scientific Revolutions</em>!" the first words I ever spoke to him.
Richard allowed Elizabeth to film him signing his books, and I hurried away to get one of
the release forms we had lately printed, for Richard to sign. He graciously did so,
and told Elizabeth that she was free to use any of part of the video she had shot of his
lecture in her documentary (alas, still forthcoming as of the time of this writing.)
</p>
<p>
I approached Richard in his last minutes there in the lobby to ask him about the Watchmaker project.
There was no reason for him to recognize me. I hurriedly reminded him of the incomplete
Java version I had built, and asked him if I could make his original programs open-source,
so that others might have a chance to work on them. Doubtless tired from the rigors of 
a lecture and travel schedule which amazes me to this day, he asked, vaguely, "WHO sent you
my source code?" "You did," was my reply. He decided on the spot. "Well, yes, that's all right," 
was Richard's reply, and then he was off to meet the local chapter of the Secular Student Alliance,
and Elizabeth and I bundled ourselves off into the night for a though-provoking conversation on
the way back to Louisville.
</p>
<p>
Having secured Richard's permission, I uploaded my source code to SourceForge, a website which
allows open source projects to be shared among collaborators, but, with seemingly insurmountable
technical obstacles before me, the project was dead in the water, as far as I could see. A growing
involvement in local theater soon consumed my interest, as I moved from performing technical work
to performing as an actor. 
</p>
<h2>A Fresh Approach (2014)</h2>
<p>In December 2014, I became aware of a number of free software tools which piqued my
interest and got me thinking about Watchmaker again. I learned that the Pascal programming
language in which Richard wrote his programs is being kept alive and well by the Free Pascal 
project, which produces a compiler that can make Pascal programs run on many different
modern computers.
</p>
<p>
Secondly, although I didn't have access to the Classic Macintosh hardware which
would run Richard's programs "natively," I learned of the existence of emulators, 
computer programs that simulate the hardware of the Classic Macintosh under modern
operating systems running on modern hardware. The best of these is called SheepShaver,
a pun on an earlier version of the software called ShapeShifter.
</p>
<p>
It may seem quite remarkable that a modern computer can "ShapeShift", pretending
 to be an old one for a little while,
but the fact is fundamental to modern computers, even as envisioned as far back as 1931 by
the great computing luminary, Alan Turing (!912-1954). Godel and Church had showed
that the most austere logic is shot through with subtlety when it comes to questions
about its "consistency" and "completeness". Turing showed that Godel's proof of the impossibility
of a both consistent and complete logical system was tantamount to specifying a "universal" machine: a machine
that could really be made, with moving parts, or electrical circuits, which could be made to simulate
any other machine.
</p>
<p>
The makers of software emulators such as SheepShaver are enormously clever, to be sure. Many different
extinct computing environments have been revived thanks to their efforts.
</p>
<p>I began to entertain visions of presenting Richard with a revived version of 
his programs, running in Pascal, on modern computers. A naif, I imagined that I might
have something for him by Christmas 2014, which was less than a month away.</p>
<p>I began a two-pronged attack on the problem. First, I scraped the Pascal source code for
Arthromorphs from the single PDF file that Richard sent me in 2008, and pasted the text into 
new individual Pascal source "units" as text files on my PC, and tried to compile them
using a copy of the Free Pascal compiler.</p>
<h3>Free Pascal (non-Macintosh)</h3>
<p>
Running the Free Pascal compiler against Richard's original Arthromorphs code,
I was instantly greeted by an explosion of error messages. These were of three basic varieties.
There were syntax errors based on the crudeness of the copy-and-paste approach by which I'd recovered
the source code from the PDF file. These errors I corrected by hand, until the source code
was at least comprehensible to Free Pascal as syntactically valid.
</p>
<p>
A second source of difficulty lay in the fact that, Pascal, like many historic programming languages,
comes in a number of dialects, and the Macintosh Pascal dialect is slightly different from the
dialect which Free Pascal expects. I learned that Free Pascal has "mode switches" which can be
used to indicate the flavor of Pascal expected by the compiler, and dutifully added compiler
directives at the top of each source file.
</p>
<p>
Finally, the Free Pascal compiler is not natively aware of the standard Pascal software libraries
provided as part of the original Macintosh operating system. This standard "toolbox" includes
functions and procedures that create windows and menus, draw geometric figures on the screen,
and other vital functions. Without having access to a Classic Macintosh environment, I
temporarily subverted this difficulty by mocking up dummy Pascal functions and procedures
with the same signature (name, arguments, and return types) as the missing Macintosh routines.
</p>
<p>
At length, I produced a set of Pascal unit files, consisting both of the cleaned-up versions of
Richard's original files, together with a unit with my mocked-up Macintosh toolbox functions. 
The result would compile cleanly under Free Pascal, but it would never do anything interesting
absent the real toolbox functions.
</p>
<p>
At the same time, I was investigating the emulation of Classic Macintosh hardware 
using software running on modern computers. 
</p>
<h3>SheepShaver (Classic Macintosh Emulation)</h3>
<p>
SheepShaver (and its antecedent program, Basilisk II) are free software programs which mimic the
original hardware of the Classic Macintosh. SheepShaver is capable of emulating Macintoshes
which can run the MacOS operating system up through Mac OS 9.0.4, which was released in April 2000.
</p>
<p>
I downloaded Basilisk II, and then SheepShaver, and learned to set them up. It's necessary to
provide either emulator with a file containing an image of the ROM chip which contained
the low level hardware drivers for the Macintosh. Once the basic emulator is up and running,
the resulting emulated Macintosh is still <em>tabula rasa</em>, without a copy of the old
Mac OS operating system. Fortunately, copies of both the ROM file and the operating system
installation media are made available by hobbyists who are aficionados of the Classic Macintosh.
</p>
<p>
I still had not re-established contact with Richard, not knowing if the new seeds of Watchmaker
revival would fall on fertile or thorny ground. Then, on December 18, 2014, just a week before 
Christmas, RDFRS volunteer Jaclyn Glenn posted a public event, at which this happened.
</p>
<p style="margin-left: 120px;">
<iframe width="560" height="315" src="https://www.youtube.com/embed/N6E1HHBA-2Q" frameborder="0" allowfullscreen></iframe>
</p>
<p>The questioner was a high school science teacher, in a high dudgeon. She asked Richard point-blank
about his Watchmaker programs. Richard fussed and figeted before saying that people had implemented bits
of his programs, and that the fruits of some of their work could be found online with a simple Google search.
</p>
<p>
Watching the video and seeing Richard squirm filled me with regret that I hadn't made a better showing
in my brief stint in reviving his programs. But, happily, this time, I was already on the case. I emailed
Richard on Christmas day, after a hasty email to Paula Kirby, requesting that she put me back in touch with
him (sadly, I had retired my 2008 email address in the intervening six years, and so, on my end at least,
none of our original communication survives.) I reminded him of our earlier collaboration, concluding
thus:
</p>
<blockquote>
Richard, I saw that someone asked you about a working Arthromorphs
program. I am the one you gave the source code to, and I have a
working version in Java.

Additionally, I have been trying to get your and Ted's original Pascal
source to compile under Macintosh emulation, to revive the very code,
for machine translation into JavaScript, where it will run in any
browser window.

I had hoped to have this done before Christmas. If you're still
interested in what I've done on the project, please send me a reply
and I will get back with details.

I am in the middle of Christmas Day, and hope that this Newton's
Birthday finds you safe and well.
</blockquote>
<p>
Richard replied, just two days later.
</p>
<blockquote>
<p>
Thank you VERY much for this.
</p>
<p>
I am in Burma with extremely flaky and irregular Internet contact. Will try to deal with this on my return to Oxford.all good wishes
</p>
<p>
Richard
</p>
</blockquote>
<p>In my reply I mentioned that I was now emulating a Quadra 950 Macintosh using the 
SheepShaver emulator: a computer which debuted in March 1992 with an asking price of US$7,200. 
I was emulating this multi-thousand dollar computer of yesteryear with a computer which I doubt I could sell for a
single percentage of that price: such are the exponential effects of Moore's Law. 
Richard's reply flew straight in the face of
the decalogue of Moses: "I remember coveting a quadra when they came out."
</p>
<p>By January 1, 2015, I had managed to obtain a copy of the Think Pascal 4.5a1 
compiler for Macintosh, run it on Mac OS 8.1 (the limit of the Basilisk II emulator)
and had a cleanly compiling version of the original code from Arthromorphs. Richard 
still hadn't sent me the troublesome resource files, so the programs would not run,
but it was still a good proof-of-concept, and I sent him a screenshot, the first of
many I sent him on the way to providing him with a version of the programs that could run 
on his own modern Macintosh:
</p>
<img style="width:400px; margin-left:200px;" src="img/2015January1ArthromorphsSansResourcesInBasilisk.png" />
<p>
By the next day, January 2, I had obtained a copy of CodeWarrior 7, which was the defacto standard
for development on the Macintosh as Apple transitioned from the m68000 processor to the
PowerPC-based Macs which would run the earliest versions of OS X. I got CodeWarrior 7 running
on the more advanced SheepShaver emulator, running OS 9.0.4, and sent him a screenshot showing
several errors reported by CodeWarrior:
</p>
<img style="width:400px; margin-left: 200px;" src="img/2015January2CodeWarrior7OnMacOS904.png" />
<p>
Why would the same code, which compiled cleanly under the older Think Pascal compiler, not
do the same with the only slightly newer CodeWarrior? The answer was that Apple had cleaned
up the standard toolbox of the Classic Mac in preparation for the move to OS X. The new
toolbox, called "Unified Pascal Interfaces," changed the names of many toolbox routines,
to make them more consistent, also introducing changes to the way that many of those routines were used.
</p>
<p>So, in order to learn how to modernize Richard's code, I would not
just be able to simply compile the same code under progressively newer compilers, I would have
to learn how Richard's code worked, more deeply, and in order to do that, I would have to 
learn more about the Macintosh than I ever dreamed necessary, or practical: including portions of
the entire history of its development, from
the pre-Macintosh days of the Apple Lisa, all the way on up to the present. In order to do that, 
I would have to do some reading. A lot of reading, stretching back to the days before
all such documentation would naturally first be published on the Internet, the "dark ages" of the
early 1980s, when technologies like the WorldWideWeb were only a dream.
</p>
<p>Coming soon</p>
<h3>Inside Macintosh: the Paper Chase</h3>

<h2>Museum of all Biomorphs</h2>
<h3>Dawkins Delivers: WatchmakerResuscitation.sitx</h3>
<h3>Opening the Ark</h3>
<h3>Resource Files</h3>
<h3>Macintosh Garden</h3>


<h2>The Jamie Tiddle Bridge: OS X On Native PowerPC</h2>
<h3>"Classic Mode": OS X 10.1-10.4
<h3>The Switch to Intel: OS X 10.5</h3>
<h3>Carbon</h3>
<h3>Cocoa</h3>

<h2>Minnesota</h2>
<h3>Lazarus</h3>
<h3>Checkmate</h3>

<h2>A Coffeehouse Conversation in Java</h2>

</div>
</body>